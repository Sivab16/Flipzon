@page "/learnrouting"
@page "/learnrouting/inblazor"
@page "/learnrouting/inblazor/{parameter:int}"
@page "/learnrouting/inblazor/{parameter:int}/{secondparameter}"

@inject NavigationManager _NavigationManager

<h3 class="text text-primary pt-3">Learn Routing</h3>

<h4> First Parameter : @Parameter</h4>
<br />
<h4> Seocnd Parameter : @SecondParameter</h4>
<br />

<button class="btn btn-primary"  @onclick="NavigateToQuery">Load query param</button>

<br />
<br />

<button class="btn btn-success" @onclick="GetQueryParameter"> Get Query Param</button>
<br />
<br />

<h3> Query Parameter : </h3>
<h4> First Parameter1 : @Param1</h4>
<br />
<h4> Seocnd Parameter2 : @Param2</h4>

@code {
    [Parameter]
    public int Parameter { get; set; }

    [Parameter]
    public string SecondParameter { get; set; }

    public string Param1 { get; set; }

    public string Param2 { get; set; }

    public void GetQueryParameter()
    {
        //logic to get param

        var absoluteUri = new Uri(_NavigationManager.Uri);
        var queryParam = System.Web.HttpUtility.ParseQueryString(absoluteUri.Query);

        Param1 = queryParam["param1"];
        Param2 = queryParam["param2"];
    }

    public void NavigateToQuery()
    {
        _NavigationManager.NavigateTo("learnrouting/inblazor?param1=3&param2=zon");
    }

}
